<div class="container-fluid" cg-busy="promise">
    <h1 class="text-info text-center"><b>User Stats</b></h1>
    <h4 class="text-default text-center"><em>Stats are based on last {{selfMediaRecentArray.length}} posts.</em></h4>
    <div class="col-xs-12 col-md-3 self-info">
        <div class="col-xs-12">
            <a target="_blank" tooltip="{{tooltips.instagram}}" ng-href="http://instagram.com/{{selfUser.username}}"><img class="img-circle user-image center-block" ng-src="{{selfUser.profile_picture}}"/></a>
            <a target="_blank" tooltip="{{tooltips.instagram}}" ng-href="http://instagram.com/{{selfUser.username}}"><p class="text-info text-center"><b>{{selfUser.username}}</b></p></a>
        </div>

        <div class="col-xs-12">
            <div class="panel">
                <div class="panel-heading text-center">
                    <button class="btn btn-default" ng-click="toggleBasic();">
                        {{toggleText}}
                    </button>
                </div>
                <table class="table table-condensed" ng-show="showBasic">
                    <tr>
                        <td>Posts</td>
                        <td><b class="text-info">{{selfUser.counts.media | number:0}}</b></td>
                    </tr>
                    <tr>
                        <td>Followers</td>
                        <td><b class="text-info">{{selfUser.counts.followed_by | number:0}}</b></td>
                    </tr>
                    <tr>
                        <td>Following</td>
                        <td><b class="text-info">{{selfUser.counts.follows | number:0}}</b></td>
                    </tr>
                    <tr>
                        <td>{{selfMediaRecent.stats.likeScorePerMedia.name}}</td>
                        <td><b class="text-info">{{selfMediaRecent.stats.likeScorePerMedia.value || 0 | number:1}}</b></td>
                    </tr>
                    <tr>
                        <td>{{selfMediaRecent.stats.commentScorePerMedia.name}}</td>
                        <td><b class="text-info">{{selfMediaRecent.stats.commentScorePerMedia.value || 0 | number:1}}</b></td>
                    </tr>
                    <tr>
                        <td>{{selfMediaRecent.stats.tagsPerPost.name}}</td>
                        <td><b class="text-info">{{selfMediaRecent.stats.tagsPerPost.value || 0 | number:1}}</b></td>
                    </tr>
                    <tr>
                        <td>Favorite Filter</td>
                        <td><b class="text-info">{{timesUsedPerFilterChartData[0].name || 'none'}}</b></td>
                    </tr>
                    <tr>
                        <td>Favorite Tag</td>
                        <td><b class="text-info">{{tagsUsedPerTagChartData[0].name || 'none'}}</b></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="col-xs-12 col-md-9 pull-right">
        <div class="panel panel-info popme">
            <div class="panel-heading"><h2 class="text-center"><b>Filter Stats</b></h2></div>
            <div class="panel-body stats-panel">
                <div class="col-xs-12 col-lg-6">
                    <highchart id="chart1" config="chartConfig1" ></highchart>
                </div>
                <div class="col-xs-12 col-lg-6">
                    <highchart id="chart2" config="chartConfig2" ></highchart>
                </div>
            </div>
        </div>
        <div class="panel panel-info popme">
            <div class="panel-heading"><h2 class="text-center"><b>Tag Stats</b></h2></div>
            <div class="panel-body stats-panel">
                    <highchart id="chart3" config="chartConfig3" ></highchart>
            </div>
        </div>
    </div>

    <div class="col-xs-12 col-md-9 pull-right user-feed">
        <div class="panel panel-info popme">
            <div class="panel-heading"><h2 class="text-center"><b>Last {{selfMediaRecentArray.length}} Posts</b></h2></div>
            <div class="panel-body">
                <div class="feed-item col-xs-12 col-sm-6" ng-repeat="medium in selfMediaRecentArray">
                    <div class="col-xs-12">
                        <a tooltip="{{tooltips.instagram}}" tooltip-placement="right" ng-href="{{medium.link}}"><img class="img-thumbnail" ng-src="{{medium.images.low_resolution.url}}"></a>
                    </div>

                    <div class="col-xs-12 feed-stats">
                        <p class="text-primary">Filter: <span class="text-danger">{{medium.filter}}</span></p>
                        <p class="text-primary">Time: <span class="text-danger">{{medium.caption.created_time*1000||'unknown' | date : 'EEE d-MM-yy'}}</span>
                        <p class="text-primary">Likes: <span class="text-danger">{{medium.likeScore}}</span></p>
                        <p class="text-primary">Comments: <span class="text-danger">{{medium.commentScore}}</span></p>
                        <p class="text-primary">Tags: <span class="text-danger">{{medium.tagScore}}</span></p>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
